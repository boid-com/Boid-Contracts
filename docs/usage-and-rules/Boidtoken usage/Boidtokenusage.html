<html><head><meta content="text/html; charset=UTF-8" http-equiv="content-type"><style type="text/css">.lst-kix_dbgpx8iagqef-6>li:before{content:"-  "}ul.lst-kix_vuobv77ime94-0{list-style-type:none}.lst-kix_dbgpx8iagqef-5>li:before{content:"-  "}.lst-kix_dbgpx8iagqef-7>li:before{content:"-  "}.lst-kix_dbgpx8iagqef-4>li:before{content:"-  "}.lst-kix_dbgpx8iagqef-8>li:before{content:"-  "}.lst-kix_dbgpx8iagqef-2>li:before{content:"-  "}ul.lst-kix_vuobv77ime94-8{list-style-type:none}ul.lst-kix_vuobv77ime94-7{list-style-type:none}.lst-kix_dbgpx8iagqef-1>li:before{content:"-  "}.lst-kix_dbgpx8iagqef-3>li:before{content:"-  "}ul.lst-kix_vuobv77ime94-6{list-style-type:none}ul.lst-kix_vuobv77ime94-5{list-style-type:none}ul.lst-kix_vuobv77ime94-4{list-style-type:none}ul.lst-kix_vuobv77ime94-3{list-style-type:none}ul.lst-kix_vuobv77ime94-2{list-style-type:none}ul.lst-kix_vuobv77ime94-1{list-style-type:none}.lst-kix_dbgpx8iagqef-0>li:before{content:"-  "}ul.lst-kix_qkv9doq66xg7-4{list-style-type:none}ul.lst-kix_qkv9doq66xg7-5{list-style-type:none}ul.lst-kix_qkv9doq66xg7-2{list-style-type:none}ul.lst-kix_qkv9doq66xg7-3{list-style-type:none}ul.lst-kix_qkv9doq66xg7-8{list-style-type:none}ul.lst-kix_qkv9doq66xg7-6{list-style-type:none}ul.lst-kix_qkv9doq66xg7-7{list-style-type:none}ul.lst-kix_qkv9doq66xg7-0{list-style-type:none}ul.lst-kix_qkv9doq66xg7-1{list-style-type:none}.lst-kix_vuobv77ime94-6>li:before{content:"-  "}.lst-kix_vuobv77ime94-4>li:before{content:"-  "}.lst-kix_vuobv77ime94-8>li:before{content:"-  "}.lst-kix_vuobv77ime94-5>li:before{content:"-  "}.lst-kix_vuobv77ime94-2>li:before{content:"-  "}.lst-kix_vuobv77ime94-3>li:before{content:"-  "}.lst-kix_qkv9doq66xg7-8>li:before{content:"-  "}.lst-kix_vuobv77ime94-7>li:before{content:"-  "}ul.lst-kix_zggjxr9hnus6-0{list-style-type:none}.lst-kix_qkv9doq66xg7-4>li:before{content:"-  "}ul.lst-kix_zggjxr9hnus6-1{list-style-type:none}.lst-kix_qkv9doq66xg7-3>li:before{content:"-  "}.lst-kix_qkv9doq66xg7-5>li:before{content:"-  "}ul.lst-kix_a59jtpi2bs7o-8{list-style-type:none}ul.lst-kix_zggjxr9hnus6-4{list-style-type:none}ul.lst-kix_zggjxr9hnus6-5{list-style-type:none}ul.lst-kix_a59jtpi2bs7o-6{list-style-type:none}ul.lst-kix_zggjxr9hnus6-2{list-style-type:none}ul.lst-kix_a59jtpi2bs7o-7{list-style-type:none}ul.lst-kix_zggjxr9hnus6-3{list-style-type:none}ul.lst-kix_a59jtpi2bs7o-4{list-style-type:none}ul.lst-kix_zggjxr9hnus6-8{list-style-type:none}.lst-kix_qkv9doq66xg7-0>li:before{content:"-  "}ul.lst-kix_a59jtpi2bs7o-5{list-style-type:none}ul.lst-kix_a59jtpi2bs7o-2{list-style-type:none}ul.lst-kix_zggjxr9hnus6-6{list-style-type:none}ul.lst-kix_a59jtpi2bs7o-3{list-style-type:none}ul.lst-kix_zggjxr9hnus6-7{list-style-type:none}.lst-kix_qkv9doq66xg7-7>li:before{content:"-  "}ul.lst-kix_a59jtpi2bs7o-0{list-style-type:none}ul.lst-kix_a59jtpi2bs7o-1{list-style-type:none}.lst-kix_qkv9doq66xg7-6>li:before{content:"-  "}ul.lst-kix_666xm6izw9uk-8{list-style-type:none}ul.lst-kix_666xm6izw9uk-7{list-style-type:none}ul.lst-kix_666xm6izw9uk-6{list-style-type:none}ul.lst-kix_666xm6izw9uk-5{list-style-type:none}ul.lst-kix_666xm6izw9uk-0{list-style-type:none}.lst-kix_qkv9doq66xg7-1>li:before{content:"-  "}ul.lst-kix_666xm6izw9uk-4{list-style-type:none}.lst-kix_qkv9doq66xg7-2>li:before{content:"-  "}ul.lst-kix_666xm6izw9uk-3{list-style-type:none}ul.lst-kix_666xm6izw9uk-2{list-style-type:none}ul.lst-kix_666xm6izw9uk-1{list-style-type:none}ul.lst-kix_fvrnz6ysme8y-1{list-style-type:none}ul.lst-kix_fvrnz6ysme8y-0{list-style-type:none}ul.lst-kix_fvrnz6ysme8y-3{list-style-type:none}ul.lst-kix_fvrnz6ysme8y-2{list-style-type:none}ul.lst-kix_fvrnz6ysme8y-5{list-style-type:none}ul.lst-kix_fvrnz6ysme8y-4{list-style-type:none}.lst-kix_vuobv77ime94-0>li:before{content:"-  "}.lst-kix_vuobv77ime94-1>li:before{content:"-  "}ul.lst-kix_fvrnz6ysme8y-7{list-style-type:none}ul.lst-kix_fvrnz6ysme8y-6{list-style-type:none}ul.lst-kix_fvrnz6ysme8y-8{list-style-type:none}.lst-kix_fvrnz6ysme8y-4>li:before{content:"-  "}.lst-kix_fvrnz6ysme8y-6>li:before{content:"-  "}.lst-kix_a59jtpi2bs7o-0>li:before{content:"-  "}.lst-kix_fvrnz6ysme8y-3>li:before{content:"-  "}.lst-kix_fvrnz6ysme8y-7>li:before{content:"-  "}.lst-kix_a59jtpi2bs7o-3>li:before{content:"-  "}ul.lst-kix_dbgpx8iagqef-8{list-style-type:none}.lst-kix_fvrnz6ysme8y-0>li:before{content:"-  "}.lst-kix_fvrnz6ysme8y-2>li:before{content:"-  "}.lst-kix_fvrnz6ysme8y-8>li:before{content:"-  "}ul.lst-kix_dbgpx8iagqef-7{list-style-type:none}.lst-kix_a59jtpi2bs7o-1>li:before{content:"-  "}.lst-kix_a59jtpi2bs7o-2>li:before{content:"-  "}.lst-kix_fvrnz6ysme8y-1>li:before{content:"-  "}.lst-kix_a59jtpi2bs7o-7>li:before{content:"-  "}ul.lst-kix_dbgpx8iagqef-2{list-style-type:none}ul.lst-kix_dbgpx8iagqef-1{list-style-type:none}.lst-kix_zggjxr9hnus6-6>li:before{content:"-  "}.lst-kix_zggjxr9hnus6-7>li:before{content:"-  "}ul.lst-kix_dbgpx8iagqef-0{list-style-type:none}ul.lst-kix_dbgpx8iagqef-6{list-style-type:none}ul.lst-kix_dbgpx8iagqef-5{list-style-type:none}.lst-kix_zggjxr9hnus6-4>li:before{content:"-  "}.lst-kix_zggjxr9hnus6-8>li:before{content:"-  "}.lst-kix_a59jtpi2bs7o-4>li:before{content:"-  "}.lst-kix_a59jtpi2bs7o-8>li:before{content:"-  "}ul.lst-kix_dbgpx8iagqef-4{list-style-type:none}ul.lst-kix_dbgpx8iagqef-3{list-style-type:none}.lst-kix_a59jtpi2bs7o-5>li:before{content:"-  "}.lst-kix_zggjxr9hnus6-5>li:before{content:"-  "}.lst-kix_a59jtpi2bs7o-6>li:before{content:"-  "}.lst-kix_fvrnz6ysme8y-5>li:before{content:"-  "}.lst-kix_666xm6izw9uk-1>li:before{content:"-  "}.lst-kix_zggjxr9hnus6-0>li:before{content:"-  "}.lst-kix_666xm6izw9uk-0>li:before{content:"-  "}.lst-kix_666xm6izw9uk-4>li:before{content:"-  "}.lst-kix_zggjxr9hnus6-2>li:before{content:"-  "}.lst-kix_zggjxr9hnus6-3>li:before{content:"-  "}.lst-kix_666xm6izw9uk-3>li:before{content:"-  "}.lst-kix_zggjxr9hnus6-1>li:before{content:"-  "}.lst-kix_666xm6izw9uk-2>li:before{content:"-  "}.lst-kix_666xm6izw9uk-7>li:before{content:"-  "}.lst-kix_666xm6izw9uk-8>li:before{content:"-  "}.lst-kix_666xm6izw9uk-5>li:before{content:"-  "}.lst-kix_666xm6izw9uk-6>li:before{content:"-  "}ol{margin:0;padding:0}table td,table th{padding:0}.c0{margin-left:36pt;padding-top:0pt;padding-left:0pt;padding-bottom:0pt;line-height:1.15;orphans:2;widows:2;text-align:left}.c3{margin-left:72pt;padding-top:0pt;padding-left:0pt;padding-bottom:0pt;line-height:1.15;orphans:2;widows:2;text-align:left}.c6{color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:20pt;font-family:"Arial";font-style:normal}.c9{color:#000000;font-weight:700;text-decoration:none;vertical-align:baseline;font-size:11pt;font-family:"Arial";font-style:normal}.c8{padding-top:20pt;padding-bottom:6pt;line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}.c1{color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:11pt;font-family:"Arial";font-style:normal}.c4{padding-top:18pt;padding-bottom:6pt;line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}.c5{color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:16pt;font-family:"Arial";font-style:normal}.c7{padding-top:0pt;padding-bottom:0pt;line-height:1.15;orphans:2;widows:2;text-align:left}.c11{background-color:#ffffff;max-width:468pt;padding:72pt 72pt 72pt 72pt}.c2{padding:0;margin:0}.c10{height:11pt}.title{padding-top:0pt;color:#000000;font-size:26pt;padding-bottom:3pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}.subtitle{padding-top:0pt;color:#666666;font-size:15pt;padding-bottom:16pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}li{color:#000000;font-size:11pt;font-family:"Arial"}p{margin:0;color:#000000;font-size:11pt;font-family:"Arial"}h1{padding-top:20pt;color:#000000;font-size:20pt;padding-bottom:6pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h2{padding-top:18pt;color:#000000;font-size:16pt;padding-bottom:6pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h3{padding-top:16pt;color:#434343;font-size:14pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h4{padding-top:14pt;color:#666666;font-size:12pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h5{padding-top:12pt;color:#666666;font-size:11pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h6{padding-top:12pt;color:#666666;font-size:11pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;font-style:italic;orphans:2;widows:2;text-align:left}</style></head><body class="c11"><h1 class="c8" id="h.ugduo6afoo0d"><span class="c6">Terminology</span></h1><p class="c7"><span class="c1">Stake - Time-locked, non-spendable token. Also the action of creating this token balance</span></p><p class="c7"><span class="c1">Delegate - Receiver of staked tokens</span></p><p class="c7"><span class="c1">Delegator - Giver of staked tokens</span></p><p class="c7"><span class="c1">Delegation - A token exchange from one balance to a staked balance. Can only be done by the token owner</span></p><p class="c7"><span class="c1">Self-delegation - A delegation from an account&rsquo;s liquid balance to its staked balance</span></p><p class="c7"><span class="c1">Indefinite delegation - A delegation that can be unlocked at any time. Useful for tokens that may be delegated later on. Designated by an `expiration_time` of 0</span></p><p class="c7"><span class="c1">Transfer delegation - A stake where tokens change ownership. Designated by the `transtake()` action or the `transfer` switch.</span></p><p class="c7"><span class="c1">Expiration time - Time that delegation unlocks. In stake-related functions, the `time_limit` variable is denoted in seconds forward from current time. In the `staked` and `delegation` tables, the `expiration_time` variable is denoted in microseconds since epoch.</span></p><p class="c7"><span class="c1">Bonus - Tokens issued based off of contribution to boid network. Contributions are separated into work/power contributions and stake contributions.</span></p><p class="c7 c10"><span class="c1"></span></p><h1 class="c8" id="h.eft81jg0cz6n"><span class="c6">Overview of contract changes and rules</span></h1><ul class="c2 lst-kix_vuobv77ime94-0 start"><li class="c0"><span class="c1">Staking is now on-chain</span></li><li class="c0"><span class="c1">Staking includes the possibility for delegation and transfer staking</span></li><li class="c0"><span class="c1">Delegated tokens still appear in the token balance of the delegator</span></li><li class="c0"><span class="c1">Transfer staked tokens appear in the token balance of the delegate, who is the new owner</span></li><li class="c0"><span class="c1">Stake claiming is now on-chain</span></li><li class="c0"><span class="c1">Stake claiming now includes the work bonus as well as the typical stake bonus</span></li><li class="c0"><span class="c1">Stake claiming also includes automatic return of expired staked tokens to token owner</span></li><li class="c0"><span class="c1">All stakes must be over the minimum stake amount at all times</span></li><li class="c0"><span class="c1">Existing stakes can be added to as long as the new stake expiration time is equal to or greater than the existing expiration time</span></li><li class="c0"><span class="c1">Existing stakes with finite-time expirations must be unstaked all at once</span></li><li class="c0"><span class="c1">Overall staked amount valid for stake bonus is capped by the powered stake quantity of a given account</span></li></ul><h1 class="c8" id="h.stbfw3xgcyyb"><span class="c6">Example stake scenarios</span></h1><p class="c7"><span class="c9">Stakes and transfer stakes should represent an equal-value transaction between the delegate and the delegator</span></p><h2 class="c4" id="h.3gds6hp58ec6"><span class="c5">Example 1: Stake to team leader or supernode</span></h2><p class="c7"><span class="c1">Stake to a Boid leader to proxy your votes or to allow them to collect bonuses for the benefit of your tribe.</span></p><p class="c7"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 624.00px; height: 468.00px;"><img alt="" src="images/image3.png" style="width: 624.00px; height: 468.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><h2 class="c4" id="h.yxwwujwniqpk"><span class="c5">Example 2: Team leader transfer stake to top contributor</span></h2><p class="c7"><span class="c1">Transfer a staked reward to top contributors. Keep the reward locked for a period of time that seems fair.</span></p><p class="c7"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 624.00px; height: 468.00px;"><img alt="" src="images/image2.png" style="width: 624.00px; height: 468.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><h2 class="c4" id="h.uhd6wlp5l7yr"><span class="c5">Example 3: Create a stake pool</span></h2><p class="c7"><span>The main difference here with example 1 is that the pool account may have more democratic permissions.</span></p><p class="c7"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 624.00px; height: 468.00px;"><img alt="" src="images/image1.png" style="width: 624.00px; height: 468.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><h1 class="c8" id="h.8irdlqwiq99i"><span class="c6">Perform a stake</span></h1><ul class="c2 lst-kix_666xm6izw9uk-0 start"><li class="c0"><span class="c1">Call `stake(from, to, quantity, time_limit, use_staked_balance)`</span></li><li class="c0"><span class="c1">Requires permission of delegator</span></li><li class="c0"><span class="c1">Staking from liquid balance can only be performed when stakebreak is on</span></li></ul><ul class="c2 lst-kix_666xm6izw9uk-1 start"><li class="c3"><span class="c1">Check this in `config` table if unsure (0 &rarr; off, 1 &rarr; on)</span></li></ul><ul class="c2 lst-kix_666xm6izw9uk-0"><li class="c0"><span class="c1">Staking from staked balance can be done at all times</span></li><li class="c0"><span class="c1">Must maintain minimum stake amount for all stakes at all times</span></li><li class="c0"><span class="c1">If it is a self-delegation, then `from` and `to` should be the same</span></li><li class="c0"><span class="c1">`quantity` will be subtracted from your Boid account liquid balance if you are not using your staked balance</span></li></ul><ul class="c2 lst-kix_fvrnz6ysme8y-0 start"><li class="c0"><span class="c1">`time_limit` denotes seconds in the future</span></li><li class="c0"><span class="c1">If you would like to add or subtract tokens, the new `time_limit` must be the same time or further in the future</span></li><li class="c0"><span class="c1">You can use self-staked tokens to perform a delegation to another account</span></li><li class="c0"><span class="c1">A simple stake does not cause the token owner to change</span></li></ul><h1 class="c8" id="h.ezzsz9xj1n27"><span class="c6">Perform a transfer stake</span></h1><ul class="c2 lst-kix_qkv9doq66xg7-0 start"><li class="c0"><span class="c1">Call `transtake(from, to, quantity, time_limit)`</span></li><li class="c0"><span class="c1">Requires permission of delegator</span></li><li class="c0"><span class="c1">Transtake to self is not allowed</span></li><li class="c0"><span class="c1">Tokens are time-locked and change hands upon unstake</span></li><li class="c0"><span class="c1">Transfer staked tokens are eligible for the same effects as non-transfer staked tokens</span></li></ul><ul class="c2 lst-kix_qkv9doq66xg7-1 start"><li class="c3"><span class="c1">E.g. stake bonus</span></li></ul><p class="c7 c10"><span class="c1"></span></p><h1 class="c8" id="h.kid0zt43plg3"><span class="c6">Perform an unstake</span></h1><ul class="c2 lst-kix_dbgpx8iagqef-0 start"><li class="c0"><span class="c1">Call `unstake(from, to, quantity, time_limit, to_staked_balance, issuer_unstake, transfer)`</span></li><li class="c0"><span class="c1">Can only unstake to liquid balance when stakebreak is on</span></li><li class="c0"><span class="c1">Can unstake to stake balance at all times</span></li><li class="c0"><span class="c1">Requires permission of delegate (new owner) if unstaking transfer staked tokens</span></li><li class="c0"><span class="c1">Requires permission of delegator if unstaking non-transfer staked tokens</span></li><li class="c0"><span class="c1">Token issuer can unstake tokens as a service</span></li><li class="c0"><span class="c1">If stake is time-locked (not indefinite), then all tokens must be unstaked at the same time</span></li><li class="c0"><span class="c1">If stake is indefinite, then unstake must result in valid stake</span></li></ul><ul class="c2 lst-kix_dbgpx8iagqef-1 start"><li class="c3"><span class="c1">Must maintain minimum stake amount</span></li></ul><p class="c7 c10"><span class="c1"></span></p><h1 class="c8" id="h.vemgu0rpd38c"><span class="c6">Perform a claim</span></h1><ul class="c2 lst-kix_a59jtpi2bs7o-0 start"><li class="c0"><span class="c1">Call `claim(stake_account, percentage_to_stake, issuer_claim)`</span></li><li class="c0"><span class="c1">Token owner or token issuer can call claim as a service</span></li><li class="c0"><span class="c1">Token issuer will only call claim if requested by token owner</span></li><li class="c0"><span class="c1">Can claim some amount to self stake of stake_account</span></li></ul></body></html>